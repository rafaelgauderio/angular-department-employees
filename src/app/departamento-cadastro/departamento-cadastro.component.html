<div class="container">
  <div class="grid">
    <div class="col-12">
      <h2>Cadastro de Departamentos</h2>
    </div>
    <div class="col-12 p-fluid">
      <div
        *ngIf="departmentForm.invalid && departmentForm.dirty"
        class="alert alert-danger p-fluid mb-2"
      >
        Preencha todos os campos do formulário corretamente.
      </div>
      <form
        autocomplete="off"
        #departmentForm="ngForm"
        (ngSubmit)="salvar(departmentForm)"
      >
        <label>Nome do departamento</label>
        <input
          class="form-control rounded"
          type="text"
          [(ngModel)]="departamento.nome"
          #nome="ngModel"
          required
          minlength="3"
          name="nome"
          appInputColor
          [userColor]="'var(--bs-light)'"
          #textRef="inputColor"
        />
        <div
          *ngIf="nome.hasError('required') && nome.touched"
          class="alert alert-danger p-fluid mt-1"
        >
          Preenchimento obrigatório do campo nome do cantor!
        </div>
        <div
          *ngIf="nome.hasError('minlength') && nome.touched"
          class="alert alert-danger p-fluid mt-1"
        >
          Nome de Departamento deve ter pelo menos 3 caracteres!
        </div>
        <div>
          <label>Empresa</label>
          <select
            class="form-control rounded"
            name="empresa"
            [ngModel]="defaultCompany"
            [(ngModel)]="departamento.empresa"
            required
            #empresa="ngModel"
          >
            <option value="">Selecionar</option>
            <option *ngFor="let emp of empresas" [value]="emp">
              {{ emp }}
            </option>
          </select>
          <div
            *ngIf="empresa.hasError('required') && empresa.touched"
            class="alert alert-danger p-fluid mt-1"
          >
            Favor selecionar a qual empresa pertence o departamento
          </div>
        </div>
        <div class="col-12">
          <button
            type="submit"
            label="Salvar"
            class="btn btn-primary"
            [disabled]="departmentForm.invalid"
            pButton
          ></button>
        </div>
      </form>
      <div class="col-12">
        <button
          label="Colocar cor"
          class="btn btn-success ml-0 mr-3"
          (click)="textRef.withFocus()"
          pButton
        ></button>
        <button
          label="Remove cor"
          class="btn btn-warning mr-3"
          (click)="textRef.withoutFocus()"
          pButton
        ></button>
        <div class="col-12 p-fluid mt-5">
          <h4>Imprimindo objeto como um json</h4>
          <p>{{ departamento | json }}</p>
        </div>
      </div>
    </div>

    <!--
    <div class="col-12">
      <h3>Dados do Departamento</h3>
      <h5>{{ name | uppercase}}</h5>
      <h5>{{ toCamelCase(name) }}</h5>
      <h5>{{ registrationDate | date : 'short'}}</h5>
      <h5>{{ updateDate | date : 'long'}}</h5>
      <h5>{{ updateDate | date : 'full' | lowercase}}</h5>
      <h5>{{ value | number: '.4-4'}}</h5>
      <h5>{{ value02 | currency: 'BRL':true : '1.2-2'}}</h5>
    </div>
    -->
  </div>
</div>
